<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <title>AI Trading Bot Web Panel</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="container py-4">
    <h1 class="mb-4">AI Trading Bot Web Panel</h1>

    <section class="mb-4">
        <h2>Status Bot: <span class="badge bg-secondary">{{ bot_status }}</span></h2>
        <form method="post">
            {% if bot_status == 'Berjalan' %}
            <button type="submit" name="action" value="stop" class="btn btn-danger">Henti Bot</button>
            {% else %}
            <button type="submit" name="action" value="start" class="btn btn-success">Mula Bot</button>
            {% endif %}
        </form>
    </section>

    <section class="mb-4">
        <h2>Tetapan Dagangan</h2>
        <form method="post" class="row g-3">
            <input type="hidden" name="action" value="save">
            <div class="col-md-3">
                <label class="form-label">Simbol</label>
                <select name="symbol" class="form-select">
                    <option value="XAUUSD" {% if settings.symbol == 'XAUUSD' %}selected{% endif %}>XAUUSD</option>
                    <option value="US30" {% if settings.symbol == 'US30' %}selected{% endif %}>US30</option>
                </select>
            </div>
            <div class="col-md-3">
                <label class="form-label">Lot</label>
                <input type="number" step="0.01" min="0.01" name="lot" value="{{ settings.lot }}" class="form-control" required>
            </div>
            <div class="col-md-3">
                <label class="form-label">Stop Loss</label>
                <input type="number" step="0.1" min="0" name="sl" value="{{ settings.sl }}" class="form-control">
            </div>
            <div class="col-md-3">
                <label class="form-label">Take Profit</label>
                <input type="number" step="0.1" min="0" name="tp" value="{{ settings.tp }}" class="form-control">
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-primary">Simpan Tetapan</button>
            </div>
        </form>
    </section>

    <section>
        <h2>Log Aktiviti</h2>
        <ul class="list-group">
            {% for log in logs %}
            <li class="list-group-item">{{ log }}</li>
            {% else %}
            <li class="list-group-item">Tiada log lagi.</li>
            {% endfor %}
        </ul>
    </section>
</body>
</html>
